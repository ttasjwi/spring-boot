<nav>
    <a href="../.." target="_blank">[Spring Boot]</a>
</nav>

# 2.1 웹 서버와 스프링 부트 소개

---

## 1. 외장 서버 vs 내장 서버
![war-and-jar](./imgs/war-and-jar.png)

- 외장 서버 방식 : WAS가 따로 있고, 거기에 WAR 를 올려야함
- 내장 서버 방식 : JAR 파일을 JVM 위에서 실행하면 웹 서버가 구동됨
    - 라이브러리에 WAS가 내장됨

---

## 2. 전통적인 방식(외장 서버)

- 과거에 자바로 웹 애플리케이션을 개발할 때는 먼저 서버에 톰캣 같은 WAS(웹 애플리케이션 서버)를 설치했다.
- 그리고 WAS에서 동작하도록 서블릿 스펙에 맞추어 코드를 작성하고 WAR 형식으로 빌드해서 war 파일을 만들었다.
- 이렇게 만들어진 war 파일을 WAS에 전달해서 배포하는 방식으로 전체 개발 주기가 동작했다.
- 이런 방식은 WAS 기반 위에서 개발하고 실행해야 한다.
- IDE 같은 개발 환경에서도 WAS와 연동해서 실행되도록 복잡한 추가 설정이 필요하다.

---

## 3. 최근 방식

- 최근에는 스프링 부트가 내장 톰캣을 포함하고 있다.
  - 애플리케이션 코드 안에 톰캣 같은 WAS가 라이브러리로 내장되어 있다는 뜻이다.
  - 개발자는 코드를 작성하고 JAR로 빌드한 다음에 해당 JAR를 원하는 위치에서 실행하기만 하면 WAS도 함께 실행된다.
  - 쉽게 이야기해서 개발자는 `main()` 메서드만 실행하면 되고, WAS 설치나 IDE 같은 개발 환경에서 WAS 와 연동하는 복잡한 일은 수행하지 않아도 된다.

## 4. 무슨 원리로 동작하는가? 직접 삽질해보자!
- 스프링 부트는 어떤 원리로 내장 톰캣을 사용해서 실행할 수 있는 것일까? 지금부터 과거로 돌아가서 톰캣도 직접 설치하고, WAR도 빌드하는 전통적인 방식으로 개발을 진행해보자.
  그리고 어떤 불편한 문제들이 있어서 최근 방식으로 변화했는지 그 과정을 함께 알아보자.
- 이미 잘 아는 옛날 개발자들은 WAS를 설치하고 war를 만들어서 배포하는 것이 익숙하겠지만, 최근 개발자들은 이런 것을 경험할 일이 없다.
그래도 한번은 알아둘 가치가 있다. 과거에 어떻게 했는지 알아야 현재의 방식이 왜 이렇게 사용되고 있는지 더 깊이있는 이해가 가능하다. 서블릿 컨테이너도 설정하고, 스프링 컨테이너도 만들어서 등록하고, 디스패처 서블릿을 만들어서 스프링 MVC와 연결하는 작업을 스프링 부트 없이 직접 경험해보자. 그러면 스프링 부트가 웹 서버와 어떻게 연동되는지 자연스럽게 이해할 수 있을 것이다.
- 참고로 여기서는 `web.xml` 대신에 자바 코드로 서블릿을 초기화 한다. 옛날 개발자라도 대부분 `web.xml`을 사용했지 자바 코드로 서블릿 초기화를 해본 적은 없을 것이므로 꼭 한번 코드로 함께 따라해보자.

---
